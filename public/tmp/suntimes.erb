<html>
  <head>
    <title>suntimes</title>
  </head>
  <body link=#bbeeff" vlink="#ffffff" alink="#FF0000" style="background-color: #000000; color: #aaddff">
    <a href="/">Home</a>
    <h1>Sun Times</h1>
    <h2>To use this gem 'gem install RubySunrise' and go to 
    <a href="http://www.mikereedell.com/2010/03/15/RubySunrise-Gem.html">Mikes' site</a>
    <h2>Enter the values for the Latitude and Longitude of interest.</h2>
    <h3>&nbsp&nbsp;Time Zone is not used here. All time results will be in UTC time.<br />
    The default Latitude and Longitude are both set to zero therefore a calculation without any entry<br />
    to the text fields will compute sunrise and sunset for latitude = 0 and longitude = 0.<br />
    Make your entries in decimal format. Ex: 20.456 and 0.123<br />
    The default date is today. 
    <p>Compare to <a href="http://www.esrl.noaa.gov/gmd/grad/solcalc/">web calculator</a></p>
    <% if @solar %>
        <form action="/times" method="post" accept-charset="utf-8">
<!--          <p>                    -->
<!--          <b>Time Zone : ( Country/City )</b><br />-->
<!--	      <input type="text" name="timezone"  />	    -->
<!--          </p>-->
          <p>          
          <b>Latitude : ( minus if south )</b><br />
          <input type="text" name="latitude"  />  
          </p>
          <p>          
          <b>Longitude : ( minus if west )</b><br />
          <input type="text" name="longitude"  />  
          </p>          
          <p>          
          <b>Sunrise :</b><br />
          <input type="text" size="24" name="sunrise" value="&nbsp&nbsp;<%= @sunrise %>" />  
          </p>      
          <p>          
          <b>Sunset :</b><br />
          <input type="text" size="24" name="sunset" value="&nbsp&nbsp;<%= @sunset %>" />   
         </p>
         <input type="submit" value="calculate">
    </form>              
    <% end %>
    <p>
      
    <p>
      def suntimes(latitude, longitude)</br>
      &nbsp&nbsp;&nbsp&nbsp; SolarEventCalculator.new(Date.today, BigDecimal.new(latitude.to_s), BigDecimal.new(longitude.to_s))</br>
      end
    </p>
    <p>
      def sunrise(latitude, longitude)</br>
      &nbsp&nbsp;&nbsp&nbsp;suntimes(latitude, longitude).compute_utc_official_sunrise</br>
      end
    </p>
    <p>
      def sunset(latitude, longitude)</br>
      &nbsp&nbsp;&nbsp&nbsp;suntimes(latitude, longitude).compute_utc_official_sunset</br>
      end
    </p> 
  </body>
</html>
