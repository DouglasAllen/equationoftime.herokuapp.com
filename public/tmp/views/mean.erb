<html>
  <head>
    <title>mean anomaly sun</title>
  </head>
  <body link=#bbeeff" vlink="#ffffff" alink="#FF0000" style="background-color: #000000; color: #aaddff">
    <a href="/">Home</a>
    <% if @solar %>
    <h1>&Mu; Mean Anomaly Sun</h1>
    <p><h3>
      The Mean Anomaly of the Sun is a ficticious value based on an assmuption that the Earth's orbit</br>
      is circular rather than eliptical and that the Earth's velocity is also constant. Mean Anomaly</br>
      is used as a starting point to calculate eccentric anomaly and true anomaly.</h3>
    </p>
    <h2>These terms are calculated with the Universal Time Coordinate<br />
        or GMT of the current time.</h2>    
    <p>      
      <h3><input style="font-weight: bold" value="&nbsp;&nbsp;<%= (@solar.time_julian_centurey * 1.0).to_s %>"/> = t  is time in fractional centurys since J2000.0
    </p>
    <p>
     <h3> The Ruby method:</br>
      def  mean_anomaly(t = time_julian_centurey())</br>
		&nbsp;&nbsp;&nbsp;&nbsp;t1 = t</br>
		&nbsp;&nbsp;&nbsp;&nbsp;t2 = t1 * t</br>
	   &nbsp;&nbsp;&nbsp;&nbsp;t3 = t2 * t</br>
		&nbsp;&nbsp;&nbsp;&nbsp;t4 = t3 * t</br>
		&nbsp&nbsp;&nbsp&nbsp;bd(truncate(357.527723333 +</br>
	   &nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;t1 * (35640.0 + 359.05034) -</br>
	   &nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;t2 * 0.00207561111111 +</br>
	   &nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;t3 * 2.13944444444e-06 -</br>
	   &nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;t4 * 1.64972222222e-08))</br>        
      end</h3>
    </p>
    <p><h3>
      The Ruby method:(modified to use Horner's method)</br>
      def mean_anomaly(t = time_julian_centurey())</br>
		&nbsp&nbsp;&nbsp&nbsp;bd(truncate(357.527723333 + </br>
	   &nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;t * 35640.0  +</br>
		&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;t * (359.05034 -</br>
	   &nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;t * (0.00207561111111 -</br>
	   &nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;t * (2.13944444444e-06 -</br>
		&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;&nbsp&nbsp;t * 1.64972222222e-08)))))</br>
      end</h3>
    </p>
    <p><h3>      
      <input style="font-weight: bold" value="&nbsp;&nbsp;<%= @solar.mean_anomaly.to_s %>"> = &Mu; Mean Anomaly of Sun in degrees decimal.<br />
      <input style="font-weight: bold" value="&nbsp;&nbsp;<%= @solar.mean_anomaly_string %>"> = &Mu; Mean Anomaly in degrees:minutes:seconds.
    </p></h3>
    <% end %>
	 <a href="/eqc">next</a>
  </body>
</html>
 
