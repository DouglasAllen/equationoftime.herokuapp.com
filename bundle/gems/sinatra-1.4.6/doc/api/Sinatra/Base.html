<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Sinatra::Base
  
    &mdash; Sinatra API Documentation
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!Sinatra/Base.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (B)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Sinatra.html" title="Sinatra (module)">Sinatra</a></span></span>
     &raquo; 
    <span class="title">Base</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Sinatra::Base
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Sinatra::Base</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2">Rack::Utils, <span class='object_link'><a href="Helpers.html" title="Sinatra::Helpers (module)">Helpers</a></span>, <span class='object_link'><a href="Templates.html" title="Sinatra::Templates (module)">Templates</a></span></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/sinatra/base.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Base class for all Sinatra applications and middleware.</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Application.html" title="Sinatra::Application (class)">Application</a></span></p>
</div>

  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="URI_INSTANCE-constant" class="">URI_INSTANCE =
          
        </dt>
        <dd><pre class="code"><span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='symbol'>:Parser</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='const'>URI</span><span class='op'>::</span><span class='const'>Parser</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='op'>:</span> <span class='const'>URI</span></pre></dd>
      
        <dt id="CALLERS_TO_IGNORE-constant" class="">CALLERS_TO_IGNORE =
          <div class="docstring">
  <div class="discussion">
    <p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span> <span class='comment'># :nodoc:
</span>  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\/sinatra(\/(base|main|show_exceptions))?\.rb$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span>    <span class='comment'># all sinatra code
</span>  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>lib\/tilt.*\.rb$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span>                                 <span class='comment'># all tilt code
</span>  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\(.*\)$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span>                                         <span class='comment'># generated code
</span>  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>rubygems\/(custom|core_ext\/kernel)_require\.rb$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='comment'># rubygems require hacks
</span>  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>active_support</span><span class='regexp_end'>/</span></span><span class='comma'>,</span>                                   <span class='comment'># active_support require hacks
</span>  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>bundler(\/runtime)?\.rb</span><span class='regexp_end'>/</span></span><span class='comma'>,</span>                          <span class='comment'># bundler require hacks
</span>  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>&lt;internal:</span><span class='regexp_end'>/</span></span><span class='comma'>,</span>                                       <span class='comment'># internal in ruby &gt;= 1.9.2
</span>  <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>src\/kernel\/bootstrap\/[A-Z]</span><span class='regexp_end'>/</span></span>                     <span class='comment'># maglev kernel files
</span><span class='rbracket'>]</span></pre></dd>
      
    </dl>
  



  
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="Helpers.html" title="Sinatra::Helpers (module)">Helpers</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Helpers.html#ETAG_KINDS-constant" title="Sinatra::Helpers::ETAG_KINDS (constant)">Helpers::ETAG_KINDS</a></span></p>


  <h2>Class Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#errors-class_method" title="errors (class method)">+ (Object) <strong>errors</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute errors.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#filters-class_method" title="filters (class method)">+ (Object) <strong>filters</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute filters.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#routes-class_method" title="routes (class method)">+ (Object) <strong>routes</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute routes.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#templates-class_method" title="templates (class method)">+ (Object) <strong>templates</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute templates.</p>
</div></span>
  
</li>

    
  </ul>

  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#app-instance_method" title="#app (instance method)">- (Object) <strong>app</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute app.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#env-instance_method" title="#env (instance method)">- (Object) <strong>env</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute env.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#params-instance_method" title="#params (instance method)">- (Object) <strong>params</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute params.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#request-instance_method" title="#request (instance method)">- (Object) <strong>request</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute request.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#response-instance_method" title="#response (instance method)">- (Object) <strong>response</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute response.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#template_cache-instance_method" title="#template_cache (instance method)">- (Object) <strong>template_cache</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the value of attribute template_cache.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_filter-class_method" title="add_filter (class method)">+ (Object) <strong>add_filter</strong>(type, path = nil, options = {}, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>add a filter.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#after-class_method" title="after (class method)">+ (Object) <strong>after</strong>(path = nil, options = {}, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Define an after filter; runs after all requests within the same context as route handlers and may access/modify the request and response.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#before-class_method" title="before (class method)">+ (Object) <strong>before</strong>(path = nil, options = {}, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Define a before filter; runs before all requests within the same context as route handlers and may access/modify the request and response.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build-class_method" title="build (class method)">+ (Object) <strong>build</strong>(app) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a Rack::Builder instance with all the middleware set up and the given +app+ as end point.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call-class_method" title="call (class method)">+ (Object) <strong>call</strong>(env) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#caller_files-class_method" title="caller_files (class method)">+ (Object) <strong>caller_files</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Like Kernel#caller but excluding certain magic entries and without line / method information; the resulting array contains filenames only.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#caller_locations-class_method" title="caller_locations (class method)">+ (Object) <strong>caller_locations</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Like caller_files, but containing Arrays rather than strings with the first element being the file, and the second being the line.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#condition-class_method" title="condition (class method)">+ (Object) <strong>condition</strong>(name = &quot;#{caller.first[/`.*'/]} condition&quot;, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Add a route condition.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#configure-class_method" title="configure (class method)">+ (Object) <strong>configure</strong>(*envs) {|_self| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Set configuration options for Sinatra and/or the app.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete-class_method" title="delete (class method)">+ (Object) <strong>delete</strong>(path, opts = {}, &amp;bk) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#development%3F-class_method" title="development? (class method)">+ (Boolean) <strong>development?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#disable-class_method" title="disable (class method)">+ (Object) <strong>disable</strong>(*opts) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Same as calling <code>set :option, false</code> for each of the given options.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#enable-class_method" title="enable (class method)">+ (Object) <strong>enable</strong>(*opts) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Same as calling <code>set :option, true</code> for each of the given options.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#error-class_method" title="error (class method)">+ (Object) <strong>error</strong>(*codes, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Define a custom error handler.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extensions-class_method" title="extensions (class method)">+ (Object) <strong>extensions</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Extension modules registered on this class and all superclasses.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get-class_method" title="get (class method)">+ (Object) <strong>get</strong>(path, opts = {}, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Defining a <code>GET</code> handler also automatically defines a <code>HEAD</code> handler.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#head-class_method" title="head (class method)">+ (Object) <strong>head</strong>(path, opts = {}, &amp;bk) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#helpers-class_method" title="helpers (class method)">+ (Object) <strong>helpers</strong>(*extensions, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Makes the methods defined in the block and in the Modules given in <code>extensions</code> available to the handlers and templates.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inline_templates%3D-class_method" title="inline_templates= (class method)">+ (Object) <strong>inline_templates=</strong>(file = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Load embedded templates from the file; uses the caller&#39;s <strong>FILE</strong> when no file is specified.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#layout-class_method" title="layout (class method)">+ (Object) <strong>layout</strong>(name = :layout, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Define the layout template.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#link-class_method" title="link (class method)">+ (Object) <strong>link</strong>(path, opts = {}, &amp;bk) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#middleware-class_method" title="middleware (class method)">+ (Object) <strong>middleware</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Middleware used in this class and all superclasses.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mime_type-class_method" title="mime_type (class method)">+ (Object) <strong>mime_type</strong>(type, value = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Lookup or register a mime type in Rack&#39;s mime registry.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mime_types-class_method" title="mime_types (class method)">+ (Object) <strong>mime_types</strong>(type) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>provides all mime types matching type, including deprecated types:   mime_types :html # =&gt; [&#39;text/html&#39;]   mime_types :js   # =&gt; [&#39;application/javascript&#39;, &#39;text/javascript&#39;].</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new-class_method" title="new (class method)">+ (Object) <strong>new</strong>(*args, &amp;bk) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Create a new instance of the class fronted by its middleware pipeline.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#not_found-class_method" title="not_found (class method)">+ (Object) <strong>not_found</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sugar for <code>error(404) { ... }</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#options-class_method" title="options (class method)">+ (Object) <strong>options</strong>(path, opts = {}, &amp;bk) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#patch-class_method" title="patch (class method)">+ (Object) <strong>patch</strong>(path, opts = {}, &amp;bk) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#post-class_method" title="post (class method)">+ (Object) <strong>post</strong>(path, opts = {}, &amp;bk) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#production%3F-class_method" title="production? (class method)">+ (Boolean) <strong>production?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prototype-class_method" title="prototype (class method)">+ (Object) <strong>prototype</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The prototype instance used to process requests.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#public%3D-class_method" title="public= (class method)">+ (Object) <strong>public=</strong>(value) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#public_dir-class_method" title="public_dir (class method)">+ (Object) <strong>public_dir</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#public_dir%3D-class_method" title="public_dir= (class method)">+ (Object) <strong>public_dir=</strong>(value) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#put-class_method" title="put (class method)">+ (Object) <strong>put</strong>(path, opts = {}, &amp;bk) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#quit%21-class_method" title="quit! (class method)">+ (Object) <strong>quit!</strong> </a>
    

    
      (also: stop!)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Stop the self-hosted server if running.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#register-class_method" title="register (class method)">+ (Object) <strong>register</strong>(*extensions, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Register an extension.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reset%21-class_method" title="reset! (class method)">+ (Object) <strong>reset!</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Removes all routes, filters, middleware and extension hooks from the current class (not routes/filters/... defined by its superclass).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run%21-class_method" title="run! (class method)">+ (Object) <strong>run!</strong>(options = {}, &amp;block) </a>
    

    
      (also: start!)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Run the Sinatra app as a self-hosted server using Thin, Puma, Mongrel, or WEBrick (in that order).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#running%3F-class_method" title="running? (class method)">+ (Boolean) <strong>running?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Check whether the self-hosted server is running or not.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set-class_method" title="set (class method)">+ (Object) <strong>set</strong>(option, value = (not_set = true), ignore_setter = false, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets an option to the given value.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#settings-class_method" title="settings (class method)">+ (Object) <strong>settings</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Access settings defined with Base.set.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#template-class_method" title="template (class method)">+ (Object) <strong>template</strong>(name, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Define a named template.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#test%3F-class_method" title="test? (class method)">+ (Boolean) <strong>test?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unlink-class_method" title="unlink (class method)">+ (Object) <strong>unlink</strong>(path, opts = {}, &amp;bk) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use-class_method" title="use (class method)">+ (Object) <strong>use</strong>(middleware, *args, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Use the specified Rack middleware.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call-instance_method" title="#call (instance method)">- (Object) <strong>call</strong>(env) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Rack call interface.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call%21-instance_method" title="#call! (instance method)">- (Object) <strong>call!</strong>(env) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>:nodoc:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#forward-instance_method" title="#forward (instance method)">- (Object) <strong>forward</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Forward the request to the downstream app -- middleware only.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#halt-instance_method" title="#halt (instance method)">- (Object) <strong>halt</strong>(*response) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Exit the current block, halts any further processing of the request, and returns the specified response.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Base) <strong>initialize</strong>(app = nil) {|_self| ... }</a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A new instance of Base.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#new%21-instance_method" title="#new! (instance method)">- (Object) <strong>new!</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#options-instance_method" title="#options (instance method)">- (Object) <strong>options</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pass-instance_method" title="#pass (instance method)">- (Object) <strong>pass</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Pass control to the next matching route.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#settings-instance_method" title="#settings (instance method)">- (Object) <strong>settings</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Access settings defined with Base.set.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Templates.html" title="Sinatra::Templates (module)">Templates</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Templates.html#asciidoc-instance_method" title="Sinatra::Templates#asciidoc (method)">#asciidoc</a></span>, <span class='object_link'><a href="Templates.html#builder-instance_method" title="Sinatra::Templates#builder (method)">#builder</a></span>, <span class='object_link'><a href="Templates.html#coffee-instance_method" title="Sinatra::Templates#coffee (method)">#coffee</a></span>, <span class='object_link'><a href="Templates.html#creole-instance_method" title="Sinatra::Templates#creole (method)">#creole</a></span>, <span class='object_link'><a href="Templates.html#erb-instance_method" title="Sinatra::Templates#erb (method)">#erb</a></span>, <span class='object_link'><a href="Templates.html#erubis-instance_method" title="Sinatra::Templates#erubis (method)">#erubis</a></span>, <span class='object_link'><a href="Templates.html#find_template-instance_method" title="Sinatra::Templates#find_template (method)">#find_template</a></span>, <span class='object_link'><a href="Templates.html#haml-instance_method" title="Sinatra::Templates#haml (method)">#haml</a></span>, <span class='object_link'><a href="Templates.html#less-instance_method" title="Sinatra::Templates#less (method)">#less</a></span>, <span class='object_link'><a href="Templates.html#liquid-instance_method" title="Sinatra::Templates#liquid (method)">#liquid</a></span>, <span class='object_link'><a href="Templates.html#markaby-instance_method" title="Sinatra::Templates#markaby (method)">#markaby</a></span>, <span class='object_link'><a href="Templates.html#markdown-instance_method" title="Sinatra::Templates#markdown (method)">#markdown</a></span>, <span class='object_link'><a href="Templates.html#mediawiki-instance_method" title="Sinatra::Templates#mediawiki (method)">#mediawiki</a></span>, <span class='object_link'><a href="Templates.html#nokogiri-instance_method" title="Sinatra::Templates#nokogiri (method)">#nokogiri</a></span>, <span class='object_link'><a href="Templates.html#rabl-instance_method" title="Sinatra::Templates#rabl (method)">#rabl</a></span>, <span class='object_link'><a href="Templates.html#radius-instance_method" title="Sinatra::Templates#radius (method)">#radius</a></span>, <span class='object_link'><a href="Templates.html#rdoc-instance_method" title="Sinatra::Templates#rdoc (method)">#rdoc</a></span>, <span class='object_link'><a href="Templates.html#sass-instance_method" title="Sinatra::Templates#sass (method)">#sass</a></span>, <span class='object_link'><a href="Templates.html#scss-instance_method" title="Sinatra::Templates#scss (method)">#scss</a></span>, <span class='object_link'><a href="Templates.html#slim-instance_method" title="Sinatra::Templates#slim (method)">#slim</a></span>, <span class='object_link'><a href="Templates.html#stylus-instance_method" title="Sinatra::Templates#stylus (method)">#stylus</a></span>, <span class='object_link'><a href="Templates.html#textile-instance_method" title="Sinatra::Templates#textile (method)">#textile</a></span>, <span class='object_link'><a href="Templates.html#wlang-instance_method" title="Sinatra::Templates#wlang (method)">#wlang</a></span>, <span class='object_link'><a href="Templates.html#yajl-instance_method" title="Sinatra::Templates#yajl (method)">#yajl</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Helpers.html" title="Sinatra::Helpers (module)">Helpers</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Helpers.html#attachment-instance_method" title="Sinatra::Helpers#attachment (method)">#attachment</a></span>, <span class='object_link'><a href="Helpers.html#back-instance_method" title="Sinatra::Helpers#back (method)">#back</a></span>, <span class='object_link'><a href="Helpers.html#body-instance_method" title="Sinatra::Helpers#body (method)">#body</a></span>, <span class='object_link'><a href="Helpers.html#cache_control-instance_method" title="Sinatra::Helpers#cache_control (method)">#cache_control</a></span>, <span class='object_link'><a href="Helpers.html#client_error%3F-instance_method" title="Sinatra::Helpers#client_error? (method)">#client_error?</a></span>, <span class='object_link'><a href="Helpers.html#content_type-instance_method" title="Sinatra::Helpers#content_type (method)">#content_type</a></span>, <span class='object_link'><a href="Helpers.html#error-instance_method" title="Sinatra::Helpers#error (method)">#error</a></span>, <span class='object_link'><a href="Helpers.html#etag-instance_method" title="Sinatra::Helpers#etag (method)">#etag</a></span>, <span class='object_link'><a href="Helpers.html#expires-instance_method" title="Sinatra::Helpers#expires (method)">#expires</a></span>, <span class='object_link'><a href="Helpers.html#headers-instance_method" title="Sinatra::Helpers#headers (method)">#headers</a></span>, <span class='object_link'><a href="Helpers.html#informational%3F-instance_method" title="Sinatra::Helpers#informational? (method)">#informational?</a></span>, <span class='object_link'><a href="Helpers.html#last_modified-instance_method" title="Sinatra::Helpers#last_modified (method)">#last_modified</a></span>, <span class='object_link'><a href="Helpers.html#logger-instance_method" title="Sinatra::Helpers#logger (method)">#logger</a></span>, <span class='object_link'><a href="Helpers.html#mime_type-instance_method" title="Sinatra::Helpers#mime_type (method)">#mime_type</a></span>, <span class='object_link'><a href="Helpers.html#not_found-instance_method" title="Sinatra::Helpers#not_found (method)">#not_found</a></span>, <span class='object_link'><a href="Helpers.html#not_found%3F-instance_method" title="Sinatra::Helpers#not_found? (method)">#not_found?</a></span>, <span class='object_link'><a href="Helpers.html#redirect-instance_method" title="Sinatra::Helpers#redirect (method)">#redirect</a></span>, <span class='object_link'><a href="Helpers.html#redirect%3F-instance_method" title="Sinatra::Helpers#redirect? (method)">#redirect?</a></span>, <span class='object_link'><a href="Helpers.html#send_file-instance_method" title="Sinatra::Helpers#send_file (method)">#send_file</a></span>, <span class='object_link'><a href="Helpers.html#server_error%3F-instance_method" title="Sinatra::Helpers#server_error? (method)">#server_error?</a></span>, <span class='object_link'><a href="Helpers.html#session-instance_method" title="Sinatra::Helpers#session (method)">#session</a></span>, <span class='object_link'><a href="Helpers.html#status-instance_method" title="Sinatra::Helpers#status (method)">#status</a></span>, <span class='object_link'><a href="Helpers.html#stream-instance_method" title="Sinatra::Helpers#stream (method)">#stream</a></span>, <span class='object_link'><a href="Helpers.html#success%3F-instance_method" title="Sinatra::Helpers#success? (method)">#success?</a></span>, <span class='object_link'><a href="Helpers.html#time_for-instance_method" title="Sinatra::Helpers#time_for (method)">#time_for</a></span>, <span class='object_link'><a href="Helpers.html#uri-instance_method" title="Sinatra::Helpers#uri (method)">#uri</a></span></p>

  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Sinatra::Base (class)">Base</a></span></tt>) <strong>initialize</strong>(app = nil) {|_self| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns a new instance of Base</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>_self</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>_self</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Sinatra::Base (class)">Sinatra::Base</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the object that the method was called on</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


885
886
887
888
889
890</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 885</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_app'>app</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='ivar'>@app</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span>
  <span class='ivar'>@template_cache</span> <span class='op'>=</span> <span class='const'>Tilt</span><span class='op'>::</span><span class='const'>Cache</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='kw'>yield</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="class_attr_details" class="attr_details">
    <h2>Class Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="errors-class_method">
  
    + (<tt>Object</tt>) <strong>errors</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute errors</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1165
1166
1167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1165</span>

<span class='kw'>def</span> <span class='id identifier rubyid_errors'>errors</span>
  <span class='ivar'>@errors</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="filters-class_method">
  
    + (<tt>Object</tt>) <strong>filters</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute filters</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1165
1166
1167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1165</span>

<span class='kw'>def</span> <span class='id identifier rubyid_filters'>filters</span>
  <span class='ivar'>@filters</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="routes-class_method">
  
    + (<tt>Object</tt>) <strong>routes</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute routes</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1165
1166
1167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1165</span>

<span class='kw'>def</span> <span class='id identifier rubyid_routes'>routes</span>
  <span class='ivar'>@routes</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="templates-class_method">
  
    + (<tt>Object</tt>) <strong>templates</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute templates</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1165
1166
1167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1165</span>

<span class='kw'>def</span> <span class='id identifier rubyid_templates'>templates</span>
  <span class='ivar'>@templates</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="app=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="app-instance_method">
  
    - (<tt>Object</tt>) <strong>app</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute app</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


882
883
884</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 882</span>

<span class='kw'>def</span> <span class='id identifier rubyid_app'>app</span>
  <span class='ivar'>@app</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="env=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="env-instance_method">
  
    - (<tt>Object</tt>) <strong>env</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute env</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


882
883
884</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 882</span>

<span class='kw'>def</span> <span class='id identifier rubyid_env'>env</span>
  <span class='ivar'>@env</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="params=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="params-instance_method">
  
    - (<tt>Object</tt>) <strong>params</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute params</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


882
883
884</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 882</span>

<span class='kw'>def</span> <span class='id identifier rubyid_params'>params</span>
  <span class='ivar'>@params</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="request=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="request-instance_method">
  
    - (<tt>Object</tt>) <strong>request</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute request</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


882
883
884</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 882</span>

<span class='kw'>def</span> <span class='id identifier rubyid_request'>request</span>
  <span class='ivar'>@request</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="response=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="response-instance_method">
  
    - (<tt>Object</tt>) <strong>response</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute response</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


882
883
884</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 882</span>

<span class='kw'>def</span> <span class='id identifier rubyid_response'>response</span>
  <span class='ivar'>@response</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="template_cache-instance_method">
  
    - (<tt>Object</tt>) <strong>template_cache</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns the value of attribute template_cache</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


883
884
885</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 883</span>

<span class='kw'>def</span> <span class='id identifier rubyid_template_cache'>template_cache</span>
  <span class='ivar'>@template_cache</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="add_filter-class_method">
  
    + (<tt>Object</tt>) <strong>add_filter</strong>(type, path = nil, options = {}, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>add a filter</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1342
1343
1344
1345</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1342</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_filter'>add_filter</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span> <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:each_pair</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_filters'>filters</span><span class='lbracket'>[</span><span class='id identifier rubyid_type'>type</span><span class='rbracket'>]</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_compile!'>compile!</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>||</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="after-class_method">
  
    + (<tt>Object</tt>) <strong>after</strong>(path = nil, options = {}, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Define an after filter; runs after all requests within the same
context as route handlers and may access/modify the request and
response.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1337
1338
1339</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1337</span>

<span class='kw'>def</span> <span class='id identifier rubyid_after'>after</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_add_filter'>add_filter</span><span class='lparen'>(</span><span class='symbol'>:after</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="before-class_method">
  
    + (<tt>Object</tt>) <strong>before</strong>(path = nil, options = {}, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Define a before filter; runs before all requests within the same
context as route handlers and may access/modify the request and
response.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1330
1331
1332</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1330</span>

<span class='kw'>def</span> <span class='id identifier rubyid_before'>before</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_add_filter'>add_filter</span><span class='lparen'>(</span><span class='symbol'>:before</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="build-class_method">
  
    + (<tt>Object</tt>) <strong>build</strong>(app) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a Rack::Builder instance with all the middleware set up and
the given +app+ as end point.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1477
1478
1479
1480
1481
1482
1483</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1477</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_app'>app</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_builder'>builder</span> <span class='op'>=</span> <span class='const'>Rack</span><span class='op'>::</span><span class='const'>Builder</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_setup_default_middleware'>setup_default_middleware</span> <span class='id identifier rubyid_builder'>builder</span>
  <span class='id identifier rubyid_setup_middleware'>setup_middleware</span> <span class='id identifier rubyid_builder'>builder</span>
  <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_run'>run</span> <span class='id identifier rubyid_app'>app</span>
  <span class='id identifier rubyid_builder'>builder</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="call-class_method">
  
    + (<tt>Object</tt>) <strong>call</strong>(env) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1485
1486
1487</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1485</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_env'>env</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_synchronize'>synchronize</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_prototype'>prototype</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_env'>env</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="caller_files-class_method">
  
    + (<tt>Object</tt>) <strong>caller_files</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Like Kernel#caller but excluding certain magic entries and without
line / method information; the resulting array contains filenames only.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1491
1492
1493</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1491</span>

<span class='kw'>def</span> <span class='id identifier rubyid_caller_files'>caller_files</span>
  <span class='id identifier rubyid_cleaned_caller'>cleaned_caller</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="caller_locations-class_method">
  
    + (<tt>Object</tt>) <strong>caller_locations</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Like caller_files, but containing Arrays rather than strings with the
first element being the file, and the second being the line.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1497
1498
1499</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1497</span>

<span class='kw'>def</span> <span class='id identifier rubyid_caller_locations'>caller_locations</span>
  <span class='id identifier rubyid_cleaned_caller'>cleaned_caller</span> <span class='int'>2</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="condition-class_method">
  
    + (<tt>Object</tt>) <strong>condition</strong>(name = &quot;#{caller.first[/`.*'/]} condition&quot;, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Add a route condition. The route is considered non-matching when the
block returns false.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1349
1350
1351</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1349</span>

<span class='kw'>def</span> <span class='id identifier rubyid_condition'>condition</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_caller'>caller</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lbracket'>[</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>`.*'</span><span class='regexp_end'>/</span></span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='tstring_content'> condition</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@conditions</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_generate_method'>generate_method</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="configure-class_method">
  
    + (<tt>Object</tt>) <strong>configure</strong>(*envs) {|_self| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Set configuration options for Sinatra and/or the app.
Allows scoping of settings for certain environments.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>_self</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>_self</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Sinatra::Base (class)">Sinatra::Base</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the object that the method was called on</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1409
1410
1411</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1409</span>

<span class='kw'>def</span> <span class='id identifier rubyid_configure'>configure</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_envs'>envs</span><span class='rparen'>)</span>
  <span class='kw'>yield</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id identifier rubyid_envs'>envs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span> <span class='id identifier rubyid_envs'>envs</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_environment'>environment</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete-class_method">
  
    + (<tt>Object</tt>) <strong>delete</strong>(path, opts = {}, &amp;bk) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1378</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1378</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span><span class='rparen'>)</span>  <span class='id identifier rubyid_route'>route</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>DELETE</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>  <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="development?-class_method">
  
    + (<tt>Boolean</tt>) <strong>development?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1403</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1403</span>

<span class='kw'>def</span> <span class='id identifier rubyid_development?'>development?</span><span class='semicolon'>;</span> <span class='id identifier rubyid_environment'>environment</span> <span class='op'>==</span> <span class='symbol'>:development</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="disable-class_method">
  
    + (<tt>Object</tt>) <strong>disable</strong>(*opts) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Same as calling <code>set :option, false</code> for each of the given options.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1246
1247
1248</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1246</span>

<span class='kw'>def</span> <span class='id identifier rubyid_disable'>disable</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_set'>set</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="enable-class_method">
  
    + (<tt>Object</tt>) <strong>enable</strong>(*opts) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Same as calling <code>set :option, true</code> for each of the given options.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1241
1242
1243</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1241</span>

<span class='kw'>def</span> <span class='id identifier rubyid_enable'>enable</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_opts'>opts</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_set'>set</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="error-class_method">
  
    + (<tt>Object</tt>) <strong>error</strong>(*codes, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Define a custom error handler. Optionally takes either an Exception
class, or an HTTP status code to specify which errors should be
handled.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1253
1254
1255
1256
1257
1258</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1253</span>

<span class='kw'>def</span> <span class='id identifier rubyid_error'>error</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_codes'>codes</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_args'>args</span>  <span class='op'>=</span> <span class='id identifier rubyid_compile!'>compile!</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ERROR</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span>
  <span class='id identifier rubyid_codes'>codes</span> <span class='op'>=</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='const'>Array</span><span class='lparen'>(</span><span class='id identifier rubyid_c'>c</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span>
  <span class='id identifier rubyid_codes'>codes</span> <span class='op'>&lt;&lt;</span> <span class='const'>Exception</span> <span class='kw'>if</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='lparen'>(</span><span class='ivar'>@errors</span><span class='lbracket'>[</span><span class='id identifier rubyid_c'>c</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_args'>args</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="extensions-class_method">
  
    + (<tt>Object</tt>) <strong>extensions</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Extension modules registered on this class and all superclasses.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1186
1187
1188
1189
1190
1191
1192</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1186</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extensions'>extensions</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:extensions</span><span class='rparen'>)</span>
    <span class='lparen'>(</span><span class='ivar'>@extensions</span> <span class='op'>+</span> <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_extensions'>extensions</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
  <span class='kw'>else</span>
    <span class='ivar'>@extensions</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get-class_method">
  
    + (<tt>Object</tt>) <strong>get</strong>(path, opts = {}, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Defining a <code>GET</code> handler also automatically defines
a <code>HEAD</code> handler.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1368
1369
1370
1371
1372
1373
1374</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1368</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get'>get</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_conditions'>conditions</span> <span class='op'>=</span> <span class='ivar'>@conditions</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid_route'>route</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>GET</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>

  <span class='ivar'>@conditions</span> <span class='op'>=</span> <span class='id identifier rubyid_conditions'>conditions</span>
  <span class='id identifier rubyid_route'>route</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>HEAD</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="head-class_method">
  
    + (<tt>Object</tt>) <strong>head</strong>(path, opts = {}, &amp;bk) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1379</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1379</span>

<span class='kw'>def</span> <span class='id identifier rubyid_head'>head</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span><span class='rparen'>)</span>    <span class='id identifier rubyid_route'>route</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>HEAD</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>    <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="helpers-class_method">
  
    + (<tt>Object</tt>) <strong>helpers</strong>(*extensions, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Makes the methods defined in the block and in the Modules given
in <code>extensions</code> available to the handlers and templates</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1387
1388
1389
1390</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1387</span>

<span class='kw'>def</span> <span class='id identifier rubyid_helpers'>helpers</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_extensions'>extensions</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_class_eval'>class_eval</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>   <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_include'>include</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_extensions'>extensions</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_extensions'>extensions</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inline_templates=-class_method">
  
    + (<tt>Object</tt>) <strong>inline_templates=</strong>(file = nil) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Load embedded templates from the file; uses the caller&#39;s <strong>FILE</strong>
when no file is specified.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1279
1280
1281
1282
1283
1284
1285
1286
1287
1288
1289
1290
1291
1292
1293
1294
1295
1296
1297
1298
1299
1300
1301
1302
1303
1304
1305
1306
1307
1308</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1279</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inline_templates='>inline_templates=</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_file'>file</span> <span class='op'>==</span> <span class='kw'>true</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='lparen'>(</span><span class='id identifier rubyid_caller_files'>caller_files</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='op'>||</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='gvar'>$0</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_file'>file</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_io'>io</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'>IO</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:binread</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='op'>::</span><span class='const'>IO</span><span class='period'>.</span><span class='id identifier rubyid_binread'>binread</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='op'>::</span><span class='const'>IO</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='id identifier rubyid_io'>io</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\r\n</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^__END__$</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span>
    <span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_app'>app</span> <span class='kw'>and</span> <span class='id identifier rubyid_app'>app</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>([^\n]*\n)?#[^\n]*coding: *(\S+)</span><span class='regexp_end'>/m</span></span>
      <span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>=</span> <span class='backref'>$2</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_encoding'>encoding</span> <span class='op'>=</span> <span class='id identifier rubyid_settings'>settings</span><span class='period'>.</span><span class='id identifier rubyid_default_encoding'>default_encoding</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_lines'>lines</span> <span class='op'>=</span> <span class='id identifier rubyid_app'>app</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='int'>1</span>
    <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='id identifier rubyid_force_encoding'>force_encoding</span> <span class='id identifier rubyid_data'>data</span><span class='comma'>,</span> <span class='id identifier rubyid_encoding'>encoding</span>
    <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_each_line'>each_line</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_line'>line</span><span class='op'>|</span>
      <span class='id identifier rubyid_lines'>lines</span> <span class='op'>+=</span> <span class='int'>1</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^@@\s*(.*\S)\s*$</span><span class='regexp_end'>/</span></span>
        <span class='id identifier rubyid_template'>template</span> <span class='op'>=</span> <span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id identifier rubyid_encoding'>encoding</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_templates'>templates</span><span class='lbracket'>[</span><span class='backref'>$1</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_template'>template</span><span class='comma'>,</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_lines'>lines</span><span class='rbracket'>]</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_template'>template</span>
        <span class='id identifier rubyid_template'>template</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_line'>line</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="layout-class_method">
  
    + (<tt>Object</tt>) <strong>layout</strong>(name = :layout, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Define the layout template. The block must return the template source.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1273
1274
1275</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1273</span>

<span class='kw'>def</span> <span class='id identifier rubyid_layout'>layout</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='symbol'>:layout</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_template'>template</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="link-class_method">
  
    + (<tt>Object</tt>) <strong>link</strong>(path, opts = {}, &amp;bk) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1382</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1382</span>

<span class='kw'>def</span> <span class='id identifier rubyid_link'>link</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span><span class='rparen'>)</span>    <span class='id identifier rubyid_route'>route</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>LINK</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>    <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="middleware-class_method">
  
    + (<tt>Object</tt>) <strong>middleware</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Middleware used in this class and all superclasses.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1195
1196
1197
1198
1199
1200
1201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1195</span>

<span class='kw'>def</span> <span class='id identifier rubyid_middleware'>middleware</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:middleware</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_middleware'>middleware</span> <span class='op'>+</span> <span class='ivar'>@middleware</span>
  <span class='kw'>else</span>
    <span class='ivar'>@middleware</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mime_type-class_method">
  
    + (<tt>Object</tt>) <strong>mime_type</strong>(type, value = nil) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Lookup or register a mime type in Rack&#39;s mime registry.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1311
1312
1313
1314
1315
1316
1317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1311</span>

<span class='kw'>def</span> <span class='id identifier rubyid_mime_type'>mime_type</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_type'>type</span>      <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>/</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_type'>type</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='CHAR'>?.</span>
  <span class='kw'>return</span> <span class='const'>Rack</span><span class='op'>::</span><span class='const'>Mime</span><span class='period'>.</span><span class='id identifier rubyid_mime_type'>mime_type</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_value'>value</span>
  <span class='const'>Rack</span><span class='op'>::</span><span class='const'>Mime</span><span class='op'>::</span><span class='const'>MIME_TYPES</span><span class='lbracket'>[</span><span class='id identifier rubyid_type'>type</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mime_types-class_method">
  
    + (<tt>Object</tt>) <strong>mime_types</strong>(type) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>provides all mime types matching type, including deprecated types:
  mime_types :html # =&gt; [&#39;text/html&#39;]
  mime_types :js   # =&gt; [&#39;application/javascript&#39;, &#39;text/javascript&#39;]</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1322
1323
1324
1325</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1322</span>

<span class='kw'>def</span> <span class='id identifier rubyid_mime_types'>mime_types</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='id identifier rubyid_mime_type'>mime_type</span> <span class='id identifier rubyid_type'>type</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^application\/(xml|javascript)$</span><span class='regexp_end'>/</span></span> <span class='op'>?</span> <span class='lbracket'>[</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>text/</span><span class='embvar'>#</span><span class='backref'>$1</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='lbracket'>[</span><span class='id identifier rubyid_type'>type</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new-class_method">
  
    + (<tt>Object</tt>) <strong>new</strong>(*args, &amp;bk) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Create a new instance of the class fronted by its middleware
pipeline. The object is guaranteed to respond to #call but may not be
an instance of the class new was called on.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1470
1471
1472
1473</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1470</span>

<span class='kw'>def</span> <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_instance'>instance</span> <span class='op'>=</span> <span class='id identifier rubyid_new!'>new!</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span><span class='rparen'>)</span>
  <span class='const'>Wrapper</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_instance'>instance</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_app'>to_app</span><span class='comma'>,</span> <span class='id identifier rubyid_instance'>instance</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="not_found-class_method">
  
    + (<tt>Object</tt>) <strong>not_found</strong>(&amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sugar for <code>error(404) { ... }</code></p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1261
1262
1263
1264</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1261</span>

<span class='kw'>def</span> <span class='id identifier rubyid_not_found'>not_found</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_error'>error</span><span class='lparen'>(</span><span class='int'>404</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_error'>error</span><span class='lparen'>(</span><span class='const'>Sinatra</span><span class='op'>::</span><span class='const'>NotFound</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="options-class_method">
  
    + (<tt>Object</tt>) <strong>options</strong>(path, opts = {}, &amp;bk) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1380</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1380</span>

<span class='kw'>def</span> <span class='id identifier rubyid_options'>options</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span><span class='rparen'>)</span> <span class='id identifier rubyid_route'>route</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>OPTIONS</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="patch-class_method">
  
    + (<tt>Object</tt>) <strong>patch</strong>(path, opts = {}, &amp;bk) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1381</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1381</span>

<span class='kw'>def</span> <span class='id identifier rubyid_patch'>patch</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span><span class='rparen'>)</span>   <span class='id identifier rubyid_route'>route</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>PATCH</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>   <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="post-class_method">
  
    + (<tt>Object</tt>) <strong>post</strong>(path, opts = {}, &amp;bk) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1377</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1377</span>

<span class='kw'>def</span> <span class='id identifier rubyid_post'>post</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span><span class='rparen'>)</span>    <span class='id identifier rubyid_route'>route</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>POST</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>    <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="production?-class_method">
  
    + (<tt>Boolean</tt>) <strong>production?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1404</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1404</span>

<span class='kw'>def</span> <span class='id identifier rubyid_production?'>production?</span><span class='semicolon'>;</span>  <span class='id identifier rubyid_environment'>environment</span> <span class='op'>==</span> <span class='symbol'>:production</span>  <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prototype-class_method">
  
    + (<tt>Object</tt>) <strong>prototype</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The prototype instance used to process requests.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1460
1461
1462</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1460</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prototype'>prototype</span>
  <span class='ivar'>@prototype</span> <span class='op'>||=</span> <span class='id identifier rubyid_new'>new</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="public=-class_method">
  
    + (<tt>Object</tt>) <strong>public=</strong>(value) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1353
1354
1355
1356</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1353</span>

<span class='kw'>def</span> <span class='id identifier rubyid_public='>public=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:public is no longer used to avoid overloading Module#public, use :public_folder or :public_dir instead</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_set'>set</span><span class='lparen'>(</span><span class='symbol'>:public_folder</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="public_dir-class_method">
  
    + (<tt>Object</tt>) <strong>public_dir</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1362
1363
1364</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1362</span>

<span class='kw'>def</span> <span class='id identifier rubyid_public_dir'>public_dir</span>
  <span class='id identifier rubyid_public_folder'>public_folder</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="public_dir=-class_method">
  
    + (<tt>Object</tt>) <strong>public_dir=</strong>(value) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1358
1359
1360</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1358</span>

<span class='kw'>def</span> <span class='id identifier rubyid_public_dir='>public_dir=</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_public_folder'>public_folder</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="put-class_method">
  
    + (<tt>Object</tt>) <strong>put</strong>(path, opts = {}, &amp;bk) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1376</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1376</span>

<span class='kw'>def</span> <span class='id identifier rubyid_put'>put</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span><span class='rparen'>)</span>     <span class='id identifier rubyid_route'>route</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>PUT</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>     <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="quit!-class_method">
  
    + (<tt>Object</tt>) <strong>quit!</strong> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='stop!-class_method'>stop!</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Stop the self-hosted server if running.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1420
1421
1422
1423
1424
1425
1426
1427</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1420</span>

<span class='kw'>def</span> <span class='id identifier rubyid_quit!'>quit!</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_running?'>running?</span>
  <span class='comment'># Use Thin's hard #stop! if available, otherwise just #stop.
</span>  <span class='id identifier rubyid_running_server'>running_server</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:stop!</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_running_server'>running_server</span><span class='period'>.</span><span class='id identifier rubyid_stop!'>stop!</span> <span class='op'>:</span> <span class='id identifier rubyid_running_server'>running_server</span><span class='period'>.</span><span class='id identifier rubyid_stop'>stop</span>
  <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>== Sinatra has ended his set (crowd applauds)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_handler_name'>handler_name</span> <span class='op'>=~</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>cgi</span><span class='regexp_end'>/i</span></span>
  <span class='id identifier rubyid_set'>set</span> <span class='symbol'>:running_server</span><span class='comma'>,</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_set'>set</span> <span class='symbol'>:handler_name</span><span class='comma'>,</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="register-class_method">
  
    + (<tt>Object</tt>) <strong>register</strong>(*extensions, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Register an extension. Alternatively take a block from which an
extension will be created and registered on the fly.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1394
1395
1396
1397
1398
1399
1400
1401</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1394</span>

<span class='kw'>def</span> <span class='id identifier rubyid_register'>register</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_extensions'>extensions</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_extensions'>extensions</span> <span class='op'>&lt;&lt;</span> <span class='const'>Module</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='ivar'>@extensions</span> <span class='op'>+=</span> <span class='id identifier rubyid_extensions'>extensions</span>
  <span class='id identifier rubyid_extensions'>extensions</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_extension'>extension</span><span class='op'>|</span>
    <span class='id identifier rubyid_extend'>extend</span> <span class='id identifier rubyid_extension'>extension</span>
    <span class='id identifier rubyid_extension'>extension</span><span class='period'>.</span><span class='id identifier rubyid_registered'>registered</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_extension'>extension</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:registered</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reset!-class_method">
  
    + (<tt>Object</tt>) <strong>reset!</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Removes all routes, filters, middleware and extension hooks from the
current class (not routes/filters/... defined by its superclass).</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1169
1170
1171
1172
1173
1174
1175
1176
1177
1178
1179
1180
1181
1182
1183</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1169</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reset!'>reset!</span>
  <span class='ivar'>@conditions</span>     <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@routes</span>         <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@filters</span>        <span class='op'>=</span> <span class='lbrace'>{</span><span class='symbol'>:before</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:after</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rbrace'>}</span>
  <span class='ivar'>@errors</span>         <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@middleware</span>     <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@prototype</span>      <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@extensions</span>     <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:templates</span><span class='rparen'>)</span>
    <span class='ivar'>@templates</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_hash'>hash</span><span class='comma'>,</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span> <span class='id identifier rubyid_superclass'>superclass</span><span class='period'>.</span><span class='id identifier rubyid_templates'>templates</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='ivar'>@templates</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run!-class_method">
  
    + (<tt>Object</tt>) <strong>run!</strong>(options = {}, &amp;block) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='start!-class_method'>start!</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Run the Sinatra app as a self-hosted server using
Thin, Puma, Mongrel, or WEBrick (in that order). If given a block, will call
with the constructed handler once we have taken the stage.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1434
1435
1436
1437
1438
1439
1440
1441
1442
1443
1444
1445
1446
1447
1448
1449
1450</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1434</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run!'>run!</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_running?'>running?</span>
  <span class='id identifier rubyid_set'>set</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_handler'>handler</span>         <span class='op'>=</span> <span class='id identifier rubyid_detect_rack_handler'>detect_rack_handler</span>
  <span class='id identifier rubyid_handler_name'>handler_name</span>    <span class='op'>=</span> <span class='id identifier rubyid_handler'>handler</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>.*::</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_server_settings'>server_settings</span> <span class='op'>=</span> <span class='id identifier rubyid_settings'>settings</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:server_settings</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_settings'>settings</span><span class='period'>.</span><span class='id identifier rubyid_server_settings'>server_settings</span> <span class='op'>:</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_server_settings'>server_settings</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='symbol'>:Port</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_port'>port</span><span class='comma'>,</span> <span class='symbol'>:Host</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_bind'>bind</span><span class='rparen'>)</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_start_server'>start_server</span><span class='lparen'>(</span><span class='id identifier rubyid_handler'>handler</span><span class='comma'>,</span> <span class='id identifier rubyid_server_settings'>server_settings</span><span class='comma'>,</span> <span class='id identifier rubyid_handler_name'>handler_name</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>EADDRINUSE</span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>== Someone is already performing on port </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_port'>port</span><span class='rbrace'>}</span><span class='tstring_content'>!</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_raise'>raise</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_quit!'>quit!</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="running?-class_method">
  
    + (<tt>Boolean</tt>) <strong>running?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Check whether the self-hosted server is running or not.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1455
1456
1457</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1455</span>

<span class='kw'>def</span> <span class='id identifier rubyid_running?'>running?</span>
  <span class='id identifier rubyid_running_server?'>running_server?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set-class_method">
  
    + (<tt>Object</tt>) <strong>set</strong>(option, value = (not_set = true), ignore_setter = false, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Sets an option to the given value.  If the value is a proc,
the proc will be called every time the option is accessed.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1205
1206
1207
1208
1209
1210
1211
1212
1213
1214
1215
1216
1217
1218
1219
1220
1221
1222
1223
1224
1225
1226
1227
1228
1229
1230
1231
1232
1233
1234
1235
1236
1237
1238</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1205</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set'>set</span><span class='lparen'>(</span><span class='id identifier rubyid_option'>option</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_not_set'>not_set</span> <span class='op'>=</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_ignore_setter'>ignore_setter</span> <span class='op'>=</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span> <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span> <span class='kw'>and</span> <span class='op'>!</span><span class='id identifier rubyid_not_set'>not_set</span>
  <span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='id identifier rubyid_not_set'>not_set</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span><span class='comma'>,</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_not_set'>not_set</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span> <span class='kw'>unless</span> <span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:each</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_option'>option</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_set'>set</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
    <span class='kw'>return</span> <span class='kw'>self</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_option'>option</span><span class='rbrace'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>and</span> <span class='kw'>not</span> <span class='id identifier rubyid_ignore_setter'>ignore_setter</span>
    <span class='kw'>return</span> <span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_option'>option</span><span class='rbrace'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_setter'>setter</span> <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_val'>val</span><span class='op'>|</span> <span class='id identifier rubyid_set'>set</span> <span class='id identifier rubyid_option'>option</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='comma'>,</span> <span class='kw'>true</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_getter'>getter</span> <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_value'>value</span> <span class='rbrace'>}</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>when</span> <span class='const'>Proc</span>
    <span class='id identifier rubyid_getter'>getter</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
  <span class='kw'>when</span> <span class='const'>Symbol</span><span class='comma'>,</span> <span class='const'>Fixnum</span><span class='comma'>,</span> <span class='const'>FalseClass</span><span class='comma'>,</span> <span class='const'>TrueClass</span><span class='comma'>,</span> <span class='const'>NilClass</span>
    <span class='id identifier rubyid_getter'>getter</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
  <span class='kw'>when</span> <span class='const'>Hash</span>
    <span class='id identifier rubyid_setter'>setter</span> <span class='op'>=</span> <span class='id identifier rubyid_proc'>proc</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_val'>val</span><span class='op'>|</span>
      <span class='id identifier rubyid_val'>val</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span> <span class='id identifier rubyid_val'>val</span> <span class='kw'>if</span> <span class='const'>Hash</span> <span class='op'>===</span> <span class='id identifier rubyid_val'>val</span>
      <span class='id identifier rubyid_set'>set</span> <span class='id identifier rubyid_option'>option</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='comma'>,</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_define_singleton'>define_singleton</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_option'>option</span><span class='rbrace'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_setter'>setter</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_setter'>setter</span>
  <span class='id identifier rubyid_define_singleton'>define_singleton</span><span class='lparen'>(</span><span class='id identifier rubyid_option'>option</span><span class='comma'>,</span> <span class='id identifier rubyid_getter'>getter</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_getter'>getter</span>
  <span class='id identifier rubyid_define_singleton'>define_singleton</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_option'>option</span><span class='rbrace'>}</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>!!</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_option'>option</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_method_defined?'>method_defined?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_option'>option</span><span class='rbrace'>}</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="settings-class_method">
  
    + (<tt>Object</tt>) <strong>settings</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Access settings defined with Base.set.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


921
922
923</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 921</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_settings'>settings</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="template-class_method">
  
    + (<tt>Object</tt>) <strong>template</strong>(name, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Define a named template. The block must return the template source.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1267
1268
1269
1270</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1267</span>

<span class='kw'>def</span> <span class='id identifier rubyid_template'>template</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span> <span class='op'>=</span> <span class='id identifier rubyid_caller_locations'>caller_locations</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='id identifier rubyid_templates'>templates</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_block'>block</span><span class='comma'>,</span> <span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span> <span class='id identifier rubyid_line'>line</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="test?-class_method">
  
    + (<tt>Boolean</tt>) <strong>test?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1405</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1405</span>

<span class='kw'>def</span> <span class='id identifier rubyid_test?'>test?</span><span class='semicolon'>;</span>        <span class='id identifier rubyid_environment'>environment</span> <span class='op'>==</span> <span class='symbol'>:test</span>        <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unlink-class_method">
  
    + (<tt>Object</tt>) <strong>unlink</strong>(path, opts = {}, &amp;bk) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1383</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1383</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unlink'>unlink</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span><span class='rparen'>)</span>  <span class='id identifier rubyid_route'>route</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>UNLINK</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>  <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_bk'>bk</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use-class_method">
  
    + (<tt>Object</tt>) <strong>use</strong>(middleware, *args, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Use the specified Rack middleware</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1414
1415
1416
1417</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1414</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use'>use</span><span class='lparen'>(</span><span class='id identifier rubyid_middleware'>middleware</span><span class='comma'>,</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='ivar'>@prototype</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@middleware</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_middleware'>middleware</span><span class='comma'>,</span> <span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="call-instance_method">
  
    - (<tt>Object</tt>) <strong>call</strong>(env) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Rack call interface.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


893
894
895</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 893</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_env'>env</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dup'>dup</span><span class='period'>.</span><span class='id identifier rubyid_call!'>call!</span><span class='lparen'>(</span><span class='id identifier rubyid_env'>env</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="call!-instance_method">
  
    - (<tt>Object</tt>) <strong>call!</strong>(env) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


897
898
899
900
901
902
903
904
905
906
907
908
909
910
911
912
913
914
915
916
917
918</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 897</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call!'>call!</span><span class='lparen'>(</span><span class='id identifier rubyid_env'>env</span><span class='rparen'>)</span> <span class='comment'># :nodoc:
</span>  <span class='ivar'>@env</span>      <span class='op'>=</span> <span class='id identifier rubyid_env'>env</span>
  <span class='ivar'>@request</span>  <span class='op'>=</span> <span class='const'>Request</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_env'>env</span><span class='rparen'>)</span>
  <span class='ivar'>@response</span> <span class='op'>=</span> <span class='const'>Response</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@params</span>   <span class='op'>=</span> <span class='id identifier rubyid_indifferent_params'>indifferent_params</span><span class='lparen'>(</span><span class='ivar'>@request</span><span class='period'>.</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_template_cache'>template_cache</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span> <span class='kw'>if</span> <span class='id identifier rubyid_settings'>settings</span><span class='period'>.</span><span class='id identifier rubyid_reload_templates'>reload_templates</span>
  <span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='ivar'>@params</span><span class='rparen'>)</span>

  <span class='ivar'>@response</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Content-Type</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_invoke'>invoke</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_dispatch!'>dispatch!</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_invoke'>invoke</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_error_block!'>error_block!</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span><span class='rparen'>)</span> <span class='rbrace'>}</span> <span class='kw'>unless</span> <span class='ivar'>@env</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>sinatra.error</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span>

  <span class='kw'>unless</span> <span class='ivar'>@response</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>Content-Type</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='const'>Array</span> <span class='op'>===</span> <span class='id identifier rubyid_body'>body</span> <span class='kw'>and</span> <span class='id identifier rubyid_body'>body</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:content_type</span>
      <span class='id identifier rubyid_content_type'>content_type</span> <span class='id identifier rubyid_body'>body</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_content_type'>content_type</span> <span class='symbol'>:html</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='ivar'>@response</span><span class='period'>.</span><span class='id identifier rubyid_finish'>finish</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="forward-instance_method">
  
    - (<tt>Object</tt>) <strong>forward</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Forward the request to the downstream app -- middleware only.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


951
952
953
954
955
956
957
958</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 951</span>

<span class='kw'>def</span> <span class='id identifier rubyid_forward'>forward</span>
  <span class='id identifier rubyid_fail'>fail</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>downstream app not set</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='ivar'>@app</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span> <span class='symbol'>:call</span>
  <span class='id identifier rubyid_status'>status</span><span class='comma'>,</span> <span class='id identifier rubyid_headers'>headers</span><span class='comma'>,</span> <span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='ivar'>@app</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_env'>env</span>
  <span class='ivar'>@response</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='id identifier rubyid_status'>status</span>
  <span class='ivar'>@response</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='id identifier rubyid_body'>body</span>
  <span class='ivar'>@response</span><span class='period'>.</span><span class='id identifier rubyid_headers'>headers</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span> <span class='id identifier rubyid_headers'>headers</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="halt-instance_method">
  
    - (<tt>Object</tt>) <strong>halt</strong>(*response) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Exit the current block, halts any further processing
of the request, and returns the specified response.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


938
939
940
941</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 938</span>

<span class='kw'>def</span> <span class='id identifier rubyid_halt'>halt</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_response'>response</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='kw'>if</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>1</span>
  <span class='id identifier rubyid_throw'>throw</span> <span class='symbol'>:halt</span><span class='comma'>,</span> <span class='id identifier rubyid_response'>response</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="new!-instance_method">
  
    - (<tt>Object</tt>) <strong>new!</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1465</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 1465</span>

<span class='kw'>alias</span> <span class='id identifier rubyid_new!'>new!</span> <span class='id identifier rubyid_new'>new</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="options-instance_method">
  
    - (<tt>Object</tt>) <strong>options</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


930
931
932
933
934</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 930</span>

<span class='kw'>def</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sinatra::Base#options is deprecated and will be removed, </span><span class='tstring_end'>&quot;</span></span> \
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>use #settings instead.</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_settings'>settings</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pass-instance_method">
  
    - (<tt>Object</tt>) <strong>pass</strong>(&amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Pass control to the next matching route.
If there are no more matching routes, Sinatra will
return a 404 response.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


946
947
948</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 946</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pass'>pass</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_throw'>throw</span> <span class='symbol'>:pass</span><span class='comma'>,</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="settings-instance_method">
  
    - (<tt>Object</tt>) <strong>settings</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Access settings defined with Base.set.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


926
927
928</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sinatra/base.rb', line 926</span>

<span class='kw'>def</span> <span class='id identifier rubyid_settings'>settings</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_settings'>settings</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Sep 24 16:24:39 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-1.9.3).
</div>

  </body>
</html>